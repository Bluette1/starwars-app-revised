(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(2),c=n.n(r),s=n(95),o=n.n(s),l=n(14),i=n(21),j=(n(108),n(8)),m=n(36),d=n(37),u=n(40),b=n(39),p=n(1),h=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:"Me View"})}}]),n}(r.Component),O=n(67),g=n(103),x=Object(j.makeVar)(!!localStorage.getItem("token")),f=function(e){var t,n=localStorage.getItem(e);return n&&(t=JSON.parse(n)),t},v=Object(j.makeVar)(f("peopleData")||{}),y=Object(j.makeVar)(f("favourites")||[]),N=Object(j.makeVar)(function(){var e=localStorage.getItem("page"),t="1";return e&&(t=e),t}()),w=new j.InMemoryCache({typePolicies:{Query:{fields:{isLoggedIn:{read:function(){return x()}},currPage:{read:function(){return N()}},favourites:{read:function(){return y()}},peopleCurrent:{read:function(){return v()}}}}}}),A=n(48),I=n.n(A),C=n(69),k=n(25),P=n(34),S=n.n(P);function F(e){var t=e.page,n=e.getPage;return Object(p.jsxs)("div",{className:"pb-5 mt-5",children:[Object(p.jsxs)("label",{htmlFor:"page-number",children:["Search people by page:\xa0",Object(p.jsx)("input",{type:"number",name:"page-number",id:"page-number",min:"1",max:"9",className:"ml-3",placeholder:t})]}),Object(p.jsx)("input",{onClick:function(e){e.preventDefault();var t=document.getElementById("page-number");n(t.value)},type:"button",value:"Submit"})]})}var M,D=n(60);function B(e){return{getFavourites:e(),setFavourites:function(t){localStorage.setItem("favourites",JSON.stringify([].concat(Object(D.a)(e()),Object(D.a)(t)))),e(t)},deleteFavourite:function(t){var n=e().filter((function(e){return e!==t}));localStorage.setItem("favourites",JSON.stringify(n)),e(n)},addFavourite:function(t){var n=[].concat(Object(D.a)(e()),[t]);localStorage.setItem("favourites",JSON.stringify(n)),e(n)},isFavourite:function(t){return!!t&&e().includes(t)}}}var E=Object(j.gql)(M||(M=Object(a.a)(["\n  mutation PostPerson($name: String!) {\n    postPersonWithName(name: $name) {\n      id\n      personId\n      name\n      postedById\n    }\n  }\n"])));function L(e){var t=e.name,n=e.handleFavouriteChange,a=B(y).addFavourite,r=Object(j.useMutation)(E,{onCompleted:function(e){e.postPersonWithName&&a(t)}}),c=Object(k.a)(r,2),s=c[0],o=c[1],l=o.loading,i=o.error;return l?Object(p.jsx)("h4",{children:"Loading..."}):i?Object(p.jsx)("p",{children:"An error occurred"}):Object(p.jsxs)("div",{className:"d-flex p-3",children:["Like:\xa0",Object(p.jsx)("img",{className:"mt-n2",style:{cursor:"pointer"},role:"presentation",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACjUlEQVRoge3ZSWsUURSG4afjFEGC4ByDiCiKEhe6FH+B/9elE4ouxDEuHBCNmHZAnKLtEBMXp7ssq7srVdWj2O+mu4Z76/su95y65xYTJkyYMOF/plbwvq3Yj1nMNI9r+IZl1PESnwr2N4M57MU2TGMNjWYfS83+Gr0a2IJjOIoNBYS9wm18yBE+jwMF+lrFUyzIMZJnYBfOChNlWMMtPMqcP4zTmCrZ3w9cxetOF7uN6iEhfmPJhxGDMovNYmrBKZxUfMqm2YCD+Ir3nS5m2Y0zyo9Ulp342fyd77GvmojBt/iSvZBmGufE6PWDtS7Pqcp3nBfJA+2jfEL/xBPC+yWeiMfj6RNpA1tFoI07R8RMwd8G5vQ+74fBlNCaHLTYN3wtlUm0pg3MjEBIVRKt2Rj4V0i0pg30M1sMmqm2P1K59R8gWRulDSyPQEhVEq1pA/UON44rida0gZcjEFKVRGvawCe8GL6W0izic+sg++a9JwqJcWUV99Mnssvp7yLC54wnN2VitVM98F6sSHcOQ1EJHuJB9mS3iqwuipFxWR8t4G6nC3mF+jsR2PuNbpW6ihva6+uE9XYaPuKNMFGlPu6FH7hinfReZKvkq9inaRXqw6CBi2IW5FLEAJGdnmOPwa9aP+CCVK7Po6gBWBEmthtc7VDHZTFghShjgAiqRVFc7yjZdj0e4zp+lWlU1kCLJZFm9+pPHbGAO1UaVjVABNg7kaGq9rOCa3hSVUQvBoh1+ZIwsalk2wYu6bLnWZReDRCV3KJyGaqVaYpux3elHwaIqfBMsQz1Sox84UyTR78MUCxDVco0efTTQIsl8fbe4U9cNMQ3g7bVZK8MciulJj4fEcG+lnPvhAkTKvIbYud6xdwWIyMAAAAASUVORK5CYII=",alt:"Like icon",onClick:function(){s({variables:{name:t}}),n()}})]})}var q,V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAC6ElEQVRoge3YzWucVRTH8c+ZlBZF6UKkRLpSxKULX8tMXhqKFheVKIiCINnoHyD+AW6jEnTTXVGMom66EAuC1DGZGKKtgi+IqFlpC7VqE0RJjXNdOEobnidP5pl5zMLnuzzn3HN+v7l3LnOHmpqampr/M9FPcZowpmtaOKxrVLgRP+FrnDbi1Wj7dtse426VPI4p3IYbJD9qOC85LTkZHZ2hGkgtdwgvYKKgtCvM2/RMfOjCVT2arhfmhBk0Cvq08XQs+qRIW6GB1DIjHMe+otorOKfrwVhyBlLTnRrexM199NgQnooFr2xXtK2BnvgTfQy9kkuSSQ0NyfvYX7LPTCx6OS+ZayBNuEtXB3tLDobvejP6+eS3siFpRsfZrGT+WeyaM5h4uMVg4vn76M7lJTMNpJZJNAccPDzCWBo3npXK3oHwcKWCytD1UFY47whlut1VGtlXeJ6BgxVKKUfK1pRn4NoKpZTluqxgnoELOfHd5HxWMM/A5xUKKcuXWcE8A+9UKKQsmZqyDVz2Gn6pUk2frBnxRlYi00CsWBdmq9XUF7PRdikrkf9TouF5fFSVoj741G+ey0vmGoi2TcljdvdGumjEI3HWH3kF2z4somNVcgzrQ5dWzK8ajhW98IpeRqJjRXKf//ZLvY6j8YHlosJCA/RMhHvw1aDKdsCqEc1YtLST4h0ZgFjwjcvuFd4ur62AZNGfDkXbFztdsmMD9K7XA6Yxi9Svvm1IkhftMbX1z4BCTaUnthzBvHCgbI8ea8KTseCtMotLG4A06aBNrwtjJVt8LHk0OlbLaujrCG0l2r436rDwLLp9LE3CS37WGkQ8A+7AVYrGTUnmMVpQelF4IhacGsbcoRmA1HSThlO4PafkM5seiGU/DGvmQEdoK7HknBGTksWM9Iq9poYpniHvwD+kQ66xx0nc3wu9a9N0LPt92LMqMQDpiP02nEHXPnfHe9aqmlUZqeVoGvt3F2pqampqaobOX8UGtOavmkzUAAAAAElFTkSuQmCC",G=Object(j.gql)(q||(q=Object(a.a)(["\n  mutation deletePerson($name: String!) {\n    deletePersonWithName(name: $name) {\n      name\n    }\n  }\n"])));function K(e){var t=e.name,n=e.handleFavouriteChange,a=B(y).deleteFavourite,r=Object(j.useMutation)(G,{onCompleted:function(e){e.deletePersonWithName&&a(t)}}),c=Object(k.a)(r,2),s=c[0],o=c[1],l=o.loading,i=o.error;return l?Object(p.jsx)("h4",{children:"Loading..."}):i?Object(p.jsx)("p",{children:"An error occurred"}):Object(p.jsxs)("div",{className:"d-flex",children:["Unlike:\xa0",Object(p.jsx)("img",{className:"mt-n2",role:"presentation",src:V,alt:"Like icon",style:{cursor:"pointer"},onClick:function(){s({variables:{name:t}}),n()}})]})}function R(e){var t=e.isInFavourites,n=e.name,a=e.handleFavouriteChange;return Object(p.jsx)("div",{children:t?Object(p.jsx)(K,{name:n,handleFavouriteChange:a}):Object(p.jsx)(L,{name:n,handleFavouriteChange:a})})}var U=function(e){var t=e.split("/");return parseInt(t[t.length-2],10)},H=function(e){var t=e.link;return Object(p.jsx)("a",{style:{textDecoration:"underline"},href:t,target:"_blank",rel:"noreferrer",children:"[".concat(U(t),"]")})},W=function(e){var t=e.person,n=t.name,a=t.height,c=t.gender,s=t.homeworld,o=B(y).isFavourite,l=Object(r.useState)(o(n)),j=Object(k.a)(l,2),m=j[0],d=j[1];return Object(p.jsx)("div",{className:"card card-body mb-3",children:Object(p.jsxs)("div",{className:"row d-flex",children:[Object(p.jsxs)("div",{className:"col-md-6",children:[Object(p.jsxs)("p",{children:["Name:\xa0",Object(p.jsx)("span",{children:n})]}),Object(p.jsxs)("p",{children:["Height:\xa0",a]}),Object(p.jsxs)("p",{children:["Gender:\xa0",c]}),Object(p.jsxs)("p",{children:["Homeworld:\xa0 Planet ID No"," ",Object(p.jsx)("a",{style:{textDecoration:"underline"},href:s,target:"_blank",rel:"noopener noreferrer",children:U(s)})]})]}),Object(p.jsxs)("div",{className:"col-md-6 d-md-flex justify-content-md-between",children:[Object(p.jsx)(R,{handleFavouriteChange:function(){d(!m)},isInFavourites:m,name:n}),Object(p.jsx)("div",{children:m?Object(p.jsx)(i.b,{to:"/person/?search=".concat(n,"&favourite=true"),className:"btn btn-secondary",children:"Person Details"}):Object(p.jsx)(i.b,{to:"/person/?search=".concat(n),className:"btn btn-secondary",children:"Person Details"})})]})]})})};function J(e){var t=e.pg,n=e.getPage,a=t;return Object(p.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[a>1?Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){e.preventDefault(),n(a-1)},children:"Prev"}):null,Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",children:"".concat(a)}),a<9?Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){e.preventDefault(),n(a+1)},children:"Next"}):null]})}var T=function(){var e=Object(l.e)(),t=Object(j.useApolloClient)();return Object(p.jsx)("button",{style:{padding:0},"data-testid":"logout-button",type:"button",className:"btn btn-secondary p-2",onClick:function(){t.cache.evict({fieldName:"me"}),t.resetStore(),localStorage.removeItem("token"),localStorage.removeItem("page"),localStorage.removeItem("userId"),localStorage.removeItem("peopleData"),localStorage.removeItem("favourites"),x(!1),e.push("/"),window.location.reload()},children:"Logout"})},Z=function(){return parseInt(N(),10)};function Y(e){var t=e.page,n=e.handlePageChange;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{style:{padding:"5px",textAlign:"center",borderRadius:"50%"},children:[Object(p.jsx)(T,{}),Object(p.jsx)(F,{page:Z(),getPage:n}),Object(p.jsx)(J,{pg:Z(),getPage:n})]}),Object(p.jsx)("h4",{className:"display-4 my-3",children:"People"}),Object(p.jsx)(p.Fragment,{children:t.map((function(e){return Object(p.jsx)(W,{person:e},"".concat(e.name,"-").concat(S()()))}))}),Object(p.jsx)("div",{style:{textAlign:"center"},className:"mb-3",children:Object(p.jsx)(J,{pg:Z(),getPage:n})})]})}var Q=function(){return parseInt(N(),10)};function X(e){var t=e.getPeople,n=e.setPeople,a=e.refetch,c=Object(r.useState)(t()),s=Object(k.a)(c,2),o=s[0],l=s[1],i=function(){var e=Object(C.a)(I.a.mark((function e(){var t,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({page:Q()});case 2:t=e.sent,(r=t.data)&&(n(Q(),r.people),l(r.people));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(C.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("page",n),N("".concat(n)),0===t().length?i():l(t());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(Y,{page:o,handlePageChange:j})}var z,$,_=n(72),ee=n(101),te=Object(ee.a)((function(e,t){var n=t.headers,a=localStorage.getItem("token");return{headers:Object(_.a)(Object(_.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}}));var ne,ae=Object(j.gql)(z||(z=Object(a.a)(["\n  query People($page: Int) {\n    people(page: $page) {\n      name\n      height\n      gender\n      homeworld\n    }\n  }\n"]))),re=Object(j.gql)($||($=Object(a.a)(["\n  query MyPeople {\n    myPeople {\n      name\n    }\n  }\n"]))),ce=Object(g.a)(Object(O.graphql)(re,{name:"myPeopleData",options:{context:te}}),Object(O.graphql)(ae,{name:"pageData",options:{context:te,variables:{page:1}}}))((function(e){var t=e.pageData,n=e.myPeopleData;if(t.error||n.error)return Object(p.jsx)("p",{children:"Error...Please try again"});if(t.loading||n.loading)return Object(p.jsx)("p",{children:"Loading..."});var a,r=B(y).setFavourites,c=(a=v,{getPeople:function(){var e=parseInt(N(),10),t=a();return t[e]?t[e]:[]},setPeople:function(e,t){var n=a();n[e]=t,localStorage.setItem("peopleData",JSON.stringify(n)),a(n)}}),s=c.getPeople,o=c.setPeople;o(1,t.people);var l=[];return n.myPeople.forEach((function(e){return l.push(e.name)})),r(l),Object(p.jsx)(X,{refetch:t.refetch,setPeople:o,getPeople:s})})),se=n(102),oe=n.n(se);function le(){return Object(p.jsx)("div",{style:{textAlign:"center"},children:Object(p.jsx)("button",{className:"btn btn-secondary",type:"submit",onClick:function(){window.location.href="/"},children:"Back"})})}function ie(){return Object(p.jsxs)("div",{className:"d-flex m-md-0 m-1",children:["Is a favourite:\xa0",Object(p.jsx)("img",{className:"mt-n2",role:"presentation",src:V,alt:"Like icon"})]})}var je=Object(j.gql)(ne||(ne=Object(a.a)(["\n  query PersonDetails($name: String!) {\n    personDetails(name: $name) {\n      name\n      height\n      gender\n      homeworld\n      eyeColor\n      hairColor\n      skinColor\n      films\n      species\n      vehicles\n      starships\n      url\n    }\n  }\n"]))),me=function(e){var t=e.location,n=!1,a=oe.a.parse(t.search),r=a.search;a.favourite&&(n=!0);var c=Object(j.useQuery)(je,{variables:{name:r},context:te}),s=c.loading,o=c.error,l=c.data;if(s)return Object(p.jsx)("p",{children:"Loading..."});if(o)return Object(p.jsx)("p",{children:"Error :( ".concat(o)});var i=l.personDetails,m=i.name,d=i.height,u=i.gender,b=i.homeworld,h=i.eyeColor,O=i.hairColor,g=i.skinColor,x=i.films,f=i.species,v=i.vehicles,y=i.starships,N=i.url;return Object(p.jsxs)("div",{className:"pt-5 mb-3",children:[Object(p.jsx)(le,{}),Object(p.jsxs)("div",{className:"d-md-flex justify-content-md-between",children:[Object(p.jsxs)("h1",{className:"display-4 my-5",children:[Object(p.jsx)("span",{className:"text-dark",children:"Name: "}),m]}),Object(p.jsx)("div",{className:"p-md-5",children:n?Object(p.jsx)(ie,{}):null})]}),Object(p.jsx)("h4",{className:"mb-3",children:"Person Details"}),Object(p.jsxs)("p",{children:["Height:\xa0",d]}),Object(p.jsxs)("p",{children:["Gender:\xa0",u]}),Object(p.jsxs)("p",{children:["Homeworld:\xa0Planet ID No\xa0",Object(p.jsx)("a",{style:{textDecoration:"underline"},href:b,target:"_blank",rel:"noopener noreferrer",children:U(b)})]}),Object(p.jsxs)("ul",{className:"list-group",children:[Object(p.jsxs)("li",{className:"list-group-item",children:["Eye color:\xa0",h]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Hair color:\xa0",O]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Skin color:\xa0",g]})]}),Object(p.jsx)("h4",{className:"my-3",children:"More details"}),Object(p.jsxs)("ul",{className:"list-group",children:[Object(p.jsxs)("li",{className:"list-group-item",children:["Film IDs:\xa0",x.map((function(e){return Object(p.jsx)(H,{link:e},"film-".concat(S()()))}))]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Species IDs:\xa0",f.map((function(e){return Object(p.jsx)(H,{link:e},"species-".concat(S()()))}))]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Vehicle IDs:\xa0",v.map((function(e){return Object(p.jsx)(H,{link:e},"vehicle-".concat(S()()))}))]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Starship IDs:\xa0",y.map((function(e){return Object(p.jsx)(H,{link:e},"vehicle-".concat(S()()))}))]})]}),Object(p.jsxs)("h4",{className:"mb-3",children:["Person Url:\xa0",Object(p.jsx)("a",{href:N,target:"_blank",rel:"noopener noreferrer",children:N})]}),Object(p.jsx)("hr",{}),Object(p.jsx)(le,{})]})},de=n.p+"static/media/star-wars-logo.057103d6.svg";n(132);var ue,be,pe=function(){return Object(p.jsx)("div",{className:"header",children:Object(p.jsx)("img",{src:de,alt:"StarWars",style:{width:"300px",margin:"auto",display:"block"}})})},he=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(pe,{}),Object(p.jsx)(l.a,{exact:!0,path:"/me",component:h}),Object(p.jsx)(l.a,{exact:!0,path:"/",component:ce}),Object(p.jsx)(l.a,{exact:!0,path:"/people",component:ce}),Object(p.jsx)(l.a,{exact:!0,path:"/person",component:me})]})}}]),n}(r.Component),Oe=function(){return Object(p.jsx)(i.b,{to:"/register",className:"btn btn-secondary",children:"Register"})},ge=Object(j.gql)(ue||(ue=Object(a.a)(["\n  mutation Login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      id\n      token\n    }\n  }\n"]))),xe=function(){var e=Object(l.e)(),t=Object(j.useMutation)(ge,{onCompleted:function(t){var n=t.login;n?(localStorage.setItem("token",n.token),localStorage.setItem("userId",n.id),x(!0),e.push("/"),window.location.reload()):alert("Login failed. Please register first before trying to login.")}}),n=Object(k.a)(t,2),a=n[0],r=n[1],c=r.loading,s=r.error;return c?Object(p.jsx)("h4",{children:"Loading..."}):s?Object(p.jsx)("p",{children:"An error occurred"}):Object(p.jsx)("div",{className:"row m-md-0 m-5 d-flex justify-content-center form mt-5 pb-5",children:Object(p.jsxs)("div",{className:"col-md-3",children:[Object(p.jsx)("h4",{className:"ml-n3",children:"Login"}),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{id:"login",className:"d-flex flex-column",children:[Object(p.jsxs)("label",{htmlFor:"email",className:"row d-flex flex-column",children:["Email:",Object(p.jsx)("input",{className:"col-md-10",type:"email",name:"email",id:"email"})]}),Object(p.jsxs)("label",{htmlFor:"password",className:"row mb-3 mt-3",children:["Password:",Object(p.jsx)("input",{className:"col-md-10",type:"password",name:"password",id:"password"})]}),Object(p.jsx)("input",{type:"submit",value:"Submit",className:"form-elements btn btn-secondary",onClick:function(e){e.preventDefault();var t=document.getElementById("email"),n=document.getElementById("password");a({variables:{email:t.value,password:n.value}})}})]})}),Object(p.jsx)(Oe,{})]})})},fe=function(){return Object(p.jsx)(i.b,{to:"/login",className:"btn btn-secondary",children:"Login"})},ve=Object(j.gql)(be||(be=Object(a.a)(["\n  mutation Signup($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      id\n      token\n    }\n  }\n"])));function ye(){var e=Object(l.e)(),t=Object(j.useMutation)(ve,{onCompleted:function(t){var n=t.signup;n&&(localStorage.setItem("token",n.token),localStorage.setItem("userId",n.id),x(!0),e.push("/"),window.location.reload())}}),n=Object(k.a)(t,2),a=n[0],r=n[1],c=r.loading,s=r.error;return c?Object(p.jsx)("h4",{children:"Loading..."}):s?Object(p.jsx)("p",{children:"An error occurred"}):Object(p.jsx)("div",{className:"row m-md-0 m-5 d-flex justify-content-center form mt-5 pb-5",children:Object(p.jsxs)("div",{className:"col-md-3",children:[Object(p.jsx)("h4",{className:"ml-n3",children:"Register"}),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{id:"login",className:"d-flex flex-column",children:[Object(p.jsxs)("label",{htmlFor:"email",className:"row d-flex flex-column",children:[Object(p.jsx)("p",{children:"Email:"}),Object(p.jsx)("input",{className:"col-md-10",type:"email",name:"email",id:"email"})]}),Object(p.jsxs)("label",{htmlFor:"password",className:"row d-flex flex-column mb-3 mt-3",children:[Object(p.jsx)("p",{children:"Password:"}),Object(p.jsx)("input",{className:"col-md-10",type:"password",name:"password",id:"password"})]}),Object(p.jsxs)("label",{htmlFor:"password",className:"row d-flex flex-column mb-3 mt-3",children:[Object(p.jsx)("p",{children:"Confirm password:"}),Object(p.jsx)("input",{className:"col-md-10",type:"password",name:"confirm-password",id:"confirm-password"})]}),Object(p.jsxs)("label",{htmlFor:"name",className:"row d-flex flex-column mb-3 mt-3",children:[Object(p.jsx)("p",{children:"Name:"}),Object(p.jsx)("input",{className:"col-md-10",type:"text",name:"name",id:"name"})]}),Object(p.jsx)("input",{type:"submit",value:"Submit",className:"form-elements btn btn-secondary",onClick:function(e){e.preventDefault();var t=document.getElementById("email"),n=document.getElementById("password"),r=document.getElementById("name");a({variables:{email:t.value,password:n.value,name:r.value}})}})]})}),Object(p.jsx)(fe,{})]})})}var Ne,we,Ae=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(pe,{}),Object(p.jsx)(l.a,{exact:!0,path:"/register",component:ye}),Object(p.jsx)(l.a,{exact:!0,path:"/login",component:xe})]})}}]),n}(r.Component),Ie=Object(j.gql)(Ne||(Ne=Object(a.a)(["\n  extend type Query {\n    isLoggedIn: Boolean!\n  }\n"]))),Ce=new j.ApolloClient({cache:w,uri:"/graphql",headers:{authorization:localStorage.getItem("token")||"","client-name":"Star Wars [web]","client-version":"1.0.0"},typeDefs:Ie,resolvers:{}}),ke=Object(j.gql)(we||(we=Object(a.a)(["\n  query IsUserLoggedIn {\n    isLoggedIn @client\n  }\n"])));function Pe(){var e,t=Object(j.useQuery)(ke).data,n=Object(l.e)();return t.isLoggedIn?(n.push("/"),e=Object(p.jsx)(he,{})):(n.push("/login"),e=Object(p.jsx)(Ae,{})),e}o.a.render(Object(p.jsx)(j.ApolloProvider,{client:Ce,children:Object(p.jsx)(i.a,{children:Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(Pe,{})})})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.64968275.chunk.js.map