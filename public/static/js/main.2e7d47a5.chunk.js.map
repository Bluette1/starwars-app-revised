{"version":3,"sources":["components/me.tsx","cache.ts","components/page-input.tsx","components/heart-gray.png","hooks/useFavourites.ts","components/add-favourite.tsx","components/heart-red.png","components/remove-favourite.tsx","components/favourite-container.tsx","components/link-item.tsx","components/person-item.tsx","components/pages-btn-group.tsx","components/logout-button.tsx","components/page-component.tsx","components/page.tsx","auth-link.ts","components/people.tsx","hooks/usePeopleContent.ts","components/back-btn.tsx","components/favourite.tsx","components/person.tsx","components/star-wars-logo.svg","components/header.tsx","routes.tsx","components/register-button.tsx","components/login-form.tsx","components/login-button.tsx","components/register-form.tsx","public-routes.js","index.tsx"],"names":["Me","Component","isLoggedInVar","makeVar","localStorage","getItem","retrieveStorage","varName","people","peopleObj","JSON","parse","peopleVar","favouritePeopleVar","currentPage","page","resultPg","getPage","cache","InMemoryCache","typePolicies","Query","fields","isLoggedIn","read","currPage","favourites","peopleCurrent","PageInput","className","htmlFor","type","name","id","min","max","placeholder","onClick","e","preventDefault","pageChosen","document","getElementById","value","useFavourites","getFavourites","setFavourites","setItem","stringify","deleteFavourite","filter","currName","addFavourite","isFavourite","includes","POST_PERSON","gql","AddFavourite","handleFavouriteChange","useMutation","onCompleted","postPersonWithName","postPerson","loading","error","style","cursor","role","src","alt","variables","DELETE_PERSON","RemoveFavourite","deletePersonWithName","deletePerson","heartred","FavouriteContainer","isInFavourites","getId","url","splitArray","split","parseInt","length","LinkItem","link","textDecoration","href","target","rel","PersonItem","person","height","gender","homeworld","useState","isInFavouritesState","setIsInFavouritesState","to","PagesBtnGroup","pg","aria-label","LogoutButton","history","useHistory","client","useApolloClient","padding","data-testid","evict","fieldName","resetStore","removeItem","push","window","location","reload","PageComponent","handlePageChange","textAlign","borderRadius","map","uuid","Page","getPeople","setPeople","refetch","setPage","handleRefetch","a","data","pge","authLink","setContext","_","headers","token","authorization","PEOPLE_QUERY","MY_PEOPLE_QUERY","compose","graphql","options","context","pageData","myPeopleData","currPg","currPeople","favouritePeople","myPeople","forEach","BackBtn","Favourite","PERSON_QUERY","Person","searchParams","parsedParams","QueryString","search","favourite","useQuery","personDetails","eyeColor","hairColor","skinColor","films","species","vehicles","starships","film","thisSpecies","vehicle","starship","Header","logo","width","margin","display","Routes","exact","path","component","People","RegisterButton","LOGIN_USER","LoginForm","login","alert","mutation","inFlight","err","email","password","LoginButton","REGISTER_USER","RegisterForm","signup","registerUser","typeDefs","ApolloClient","uri","resolvers","IS_LOGGED_IN","IsLoggedIn","content","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2e7d47a5.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport class Me extends Component {\n  render() {\n    return <div>Me View</div>;\n  }\n}\n\nexport default Me;\n","import { InMemoryCache, makeVar } from '@apollo/client';\n\nexport const isLoggedInVar = makeVar<boolean>(!!localStorage.getItem('token'));\n\nconst getPage = () => {\n  const page = localStorage.getItem('page');\n  let resultPg = '1';\n  if (page) {\n    resultPg = page;\n  }\n  return resultPg;\n};\n\nconst retrieveStorage = (varName) => {\n  let people;\n  const peopleObj = localStorage.getItem(varName);\n  if (peopleObj) {\n    people = JSON.parse(peopleObj);\n  }\n  return people;\n};\n\nexport const peopleVar = makeVar(retrieveStorage('peopleData') || {});\nexport const favouritePeopleVar = makeVar(retrieveStorage('favourites') || []);\n\nexport const currentPage = makeVar(getPage());\n\nexport const cache: InMemoryCache = new InMemoryCache({\n  typePolicies: {\n    Query: {\n      fields: {\n        isLoggedIn: {\n          read() {\n            return isLoggedInVar();\n          },\n        },\n        currPage: {\n          read() {\n            return currentPage();\n          },\n        },\n        favourites: {\n          read() {\n            return favouritePeopleVar();\n          },\n        },\n        peopleCurrent: {\n          read() {\n            return peopleVar();\n          },\n        },\n      },\n    },\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function PageInput({ page, getPage }) {\n  return (\n    <div className=\"pb-5 mt-5\">\n      <label htmlFor=\"page-number\">\n        Search people by page:&nbsp;\n        <input\n          type=\"number\"\n          name=\"page-number\"\n          id=\"page-number\"\n          min=\"1\"\n          max=\"9\"\n          className=\"ml-3\"\n          placeholder={page}\n        />\n      </label>\n      <input\n        onClick={(e) => {\n          e.preventDefault();\n          const pageChosen = document.getElementById(\n            'page-number',\n          ) as HTMLInputElement;\n          getPage(pageChosen.value);\n        }}\n        type=\"button\"\n        value=\"Submit\"\n      />\n    </div>\n  );\n}\n\nPageInput.propTypes = {\n  page: PropTypes.number.isRequired,\n  getPage: PropTypes.func.isRequired,\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACjUlEQVRoge3ZSWsUURSG4afjFEGC4ByDiCiKEhe6FH+B/9elE4ouxDEuHBCNmHZAnKLtEBMXp7ssq7srVdWj2O+mu4Z76/su95y65xYTJkyYMOF/plbwvq3Yj1nMNI9r+IZl1PESnwr2N4M57MU2TGMNjWYfS83+Gr0a2IJjOIoNBYS9wm18yBE+jwMF+lrFUyzIMZJnYBfOChNlWMMtPMqcP4zTmCrZ3w9cxetOF7uN6iEhfmPJhxGDMovNYmrBKZxUfMqm2YCD+Ir3nS5m2Y0zyo9Ulp342fyd77GvmojBt/iSvZBmGufE6PWDtS7Pqcp3nBfJA+2jfEL/xBPC+yWeiMfj6RNpA1tFoI07R8RMwd8G5vQ+74fBlNCaHLTYN3wtlUm0pg3MjEBIVRKt2Rj4V0i0pg30M1sMmqm2P1K59R8gWRulDSyPQEhVEq1pA/UON44rida0gZcjEFKVRGvawCe8GL6W0izic+sg++a9JwqJcWUV99Mnssvp7yLC54wnN2VitVM98F6sSHcOQ1EJHuJB9mS3iqwuipFxWR8t4G6nC3mF+jsR2PuNbpW6ihva6+uE9XYaPuKNMFGlPu6FH7hinfReZKvkq9inaRXqw6CBi2IW5FLEAJGdnmOPwa9aP+CCVK7Po6gBWBEmthtc7VDHZTFghShjgAiqRVFc7yjZdj0e4zp+lWlU1kCLJZFm9+pPHbGAO1UaVjVABNg7kaGq9rOCa3hSVUQvBoh1+ZIwsalk2wYu6bLnWZReDRCV3KJyGaqVaYpux3elHwaIqfBMsQz1Sox84UyTR78MUCxDVco0efTTQIsl8fbe4U9cNMQ3g7bVZK8MciulJj4fEcG+lnPvhAkTKvIbYud6xdwWIyMAAAAASUVORK5CYII=\"","import { ReactiveVar } from '@apollo/client';\n\nexport default function useFavourites(favouritePeopleVar: ReactiveVar<string[]>) {\n  const getFavourites = favouritePeopleVar();\n  const setFavourites = (favourites) => {\n    localStorage.setItem('favourites', JSON.stringify([...favouritePeopleVar(), ...favourites]) as string);\n    favouritePeopleVar(favourites);\n  };\n  const deleteFavourite = (name) => {\n    const favourites = favouritePeopleVar().filter((currName) => currName !== name);\n    localStorage.setItem('favourites', JSON.stringify(favourites) as string);\n    favouritePeopleVar(favourites);\n  };\n  const addFavourite = (name) => {\n    const favourites = [...favouritePeopleVar(), name];\n    localStorage.setItem('favourites', JSON.stringify(favourites) as string);\n\n    favouritePeopleVar(favourites);\n  };\n  const isFavourite = (name) => {\n    const isInFavourites = name ? favouritePeopleVar().includes(name) : false;\n    return isInFavourites;\n  };\n  return {\n    getFavourites, setFavourites, deleteFavourite, addFavourite, isFavourite,\n  };\n}\n","import React from 'react';\nimport { gql, useMutation } from '@apollo/client';\nimport PropTypes from 'prop-types';\nimport heartgray from './heart-gray.png';\nimport { favouritePeopleVar } from '../cache';\nimport useFavourites from '../hooks/useFavourites';\n\nconst POST_PERSON = gql`\n  mutation PostPerson($name: String!) {\n    postPersonWithName(name: $name) {\n      id\n      personId\n      name\n      postedById\n    }\n  }\n`;\n\nexport default function AddFavourite({ name, handleFavouriteChange }) {\n  const {\n    addFavourite,\n  } = useFavourites(favouritePeopleVar);\n  const [postPerson, { loading, error }] = useMutation(POST_PERSON, {\n    onCompleted: ({ postPersonWithName }) => {\n      if (postPersonWithName) {\n        addFavourite(name);\n      }\n    },\n  });\n  if (loading) return <h4>Loading...</h4>;\n  if (error) return <p>An error occurred</p>;\n  return (\n    <div className=\"d-flex p-3\">\n      Like:&nbsp;\n      <img\n        className=\"mt-n2\"\n        style={{ cursor: 'pointer' }}\n        role=\"presentation\"\n        src={heartgray}\n        alt=\"Like icon\"\n        onClick={() => {\n          postPerson({ variables: { name } });\n          handleFavouriteChange();\n        }}\n      />\n    </div>\n  );\n}\n\nAddFavourite.propTypes = {\n  name: PropTypes.string.isRequired,\n  handleFavouriteChange: PropTypes.func.isRequired,\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAC6ElEQVRoge3YzWucVRTH8c+ZlBZF6UKkRLpSxKULX8tMXhqKFheVKIiCINnoHyD+AW6jEnTTXVGMom66EAuC1DGZGKKtgi+IqFlpC7VqE0RJjXNdOEobnidP5pl5zMLnuzzn3HN+v7l3LnOHmpqampr/M9FPcZowpmtaOKxrVLgRP+FrnDbi1Wj7dtse426VPI4p3IYbJD9qOC85LTkZHZ2hGkgtdwgvYKKgtCvM2/RMfOjCVT2arhfmhBk0Cvq08XQs+qRIW6GB1DIjHMe+otorOKfrwVhyBlLTnRrexM199NgQnooFr2xXtK2BnvgTfQy9kkuSSQ0NyfvYX7LPTCx6OS+ZayBNuEtXB3tLDobvejP6+eS3siFpRsfZrGT+WeyaM5h4uMVg4vn76M7lJTMNpJZJNAccPDzCWBo3npXK3oHwcKWCytD1UFY47whlut1VGtlXeJ6BgxVKKUfK1pRn4NoKpZTluqxgnoELOfHd5HxWMM/A5xUKKcuXWcE8A+9UKKQsmZqyDVz2Gn6pUk2frBnxRlYi00CsWBdmq9XUF7PRdikrkf9TouF5fFSVoj741G+ey0vmGoi2TcljdvdGumjEI3HWH3kF2z4somNVcgzrQ5dWzK8ajhW98IpeRqJjRXKf//ZLvY6j8YHlosJCA/RMhHvw1aDKdsCqEc1YtLST4h0ZgFjwjcvuFd4ur62AZNGfDkXbFztdsmMD9K7XA6Yxi9Svvm1IkhftMbX1z4BCTaUnthzBvHCgbI8ea8KTseCtMotLG4A06aBNrwtjJVt8LHk0OlbLaujrCG0l2r436rDwLLp9LE3CS37WGkQ8A+7AVYrGTUnmMVpQelF4IhacGsbcoRmA1HSThlO4PafkM5seiGU/DGvmQEdoK7HknBGTksWM9Iq9poYpniHvwD+kQ66xx0nc3wu9a9N0LPt92LMqMQDpiP02nEHXPnfHe9aqmlUZqeVoGvt3F2pqampqaobOX8UGtOavmkzUAAAAAElFTkSuQmCC\"","import React from 'react';\nimport { gql, useMutation } from '@apollo/client';\nimport PropTypes from 'prop-types';\nimport heartred from './heart-red.png';\nimport { favouritePeopleVar } from '../cache';\nimport useFavourites from '../hooks/useFavourites';\n\nconst DELETE_PERSON = gql`\n  mutation deletePerson($name: String!) {\n    deletePersonWithName(name: $name) {\n      name\n    }\n  }\n`;\n\nexport default function RemoveFavourite({ name, handleFavouriteChange }) {\n  const {\n    deleteFavourite,\n  } = useFavourites(favouritePeopleVar);\n\n  const [deletePerson, { loading, error }] = useMutation(DELETE_PERSON, {\n    onCompleted: ({ deletePersonWithName }) => {\n      if (deletePersonWithName) {\n        deleteFavourite(name);\n      }\n    },\n  });\n  if (loading) return <h4>Loading...</h4>;\n  if (error) return <p>An error occurred</p>;\n  return (\n    <div className=\"d-flex\">\n      Unlike:&nbsp;\n      <img\n        className=\"mt-n2\"\n        role=\"presentation\"\n        src={heartred}\n        alt=\"Like icon\"\n        style={{ cursor: 'pointer' }}\n        onClick={() => {\n          deletePerson({ variables: { name } });\n          handleFavouriteChange();\n        }}\n      />\n    </div>\n  );\n}\n\nRemoveFavourite.propTypes = {\n  name: PropTypes.string.isRequired,\n  handleFavouriteChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AddFavourite from './add-favourite';\nimport RemoveFavourite from './remove-favourite';\n\nexport default function FavouriteContainer({\n  isInFavourites, name, handleFavouriteChange,\n}) {\n  return (\n    <div>\n      {isInFavourites ? (\n        <RemoveFavourite name={name} handleFavouriteChange={handleFavouriteChange} />\n      ) : (\n        <AddFavourite name={name} handleFavouriteChange={handleFavouriteChange} />\n      )}\n    </div>\n  );\n}\n\nFavouriteContainer.propTypes = {\n  name: PropTypes.string.isRequired,\n  isInFavourites: PropTypes.bool.isRequired,\n  handleFavouriteChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const getId = (url) => {\n  const splitArray = url.split('/');\n  return parseInt(splitArray[splitArray.length - 2], 10);\n};\n\nexport const LinkItem = ({ link }) => (\n  <a style={{ textDecoration: 'underline' }} href={link} target=\"_blank\" rel=\"noreferrer\">\n    {`[${getId(link)}]`}\n  </a>\n);\n\nLinkItem.propTypes = {\n  link: PropTypes.string.isRequired,\n};\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport FavouriteContainer from './favourite-container';\nimport useFavourites from '../hooks/useFavourites';\nimport { favouritePeopleVar } from '../cache';\nimport { getId } from './link-item';\n\nconst PersonItem = ({\n  person: {\n    name, height, gender, homeworld,\n  },\n}) => {\n  const {\n    isFavourite: isInFavourites,\n  } = useFavourites(favouritePeopleVar);\n  const [isInFavouritesState, setIsInFavouritesState] = useState(isInFavourites(name));\n\n  const handleFavouriteChange = () => {\n    setIsInFavouritesState(!isInFavouritesState);\n  };\n\n  return (\n    <div className=\"card card-body mb-3\">\n      <div className=\"row d-flex\">\n        <div className=\"col-md-6\">\n          <p>\n            Name:&nbsp;\n            <span>{name}</span>\n          </p>\n          <p>\n            Height:&nbsp;\n            {height}\n          </p>\n          <p>\n            Gender:&nbsp;\n            {gender}\n          </p>\n          <p>\n            Homeworld:&nbsp;\n            Planet ID No\n            {' '}\n            <a style={{ textDecoration: 'underline' }} href={homeworld} target=\"_blank\" rel=\"noopener noreferrer\">{getId(homeworld)}</a>\n          </p>\n        </div>\n        <div className=\"col-md-6 d-md-flex justify-content-md-between\">\n          <FavouriteContainer\n            handleFavouriteChange={handleFavouriteChange}\n            isInFavourites={isInFavouritesState}\n            name={name}\n          />\n          <div>\n            {isInFavouritesState\n              ? (\n                <Link to={`/person/?search=${name}&favourite=true`} className=\"btn btn-secondary\">\n                  Person Details\n                </Link>\n              ) : (\n                <Link to={`/person/?search=${name}`} className=\"btn btn-secondary\">\n                  Person Details\n                </Link>\n              )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nPersonItem.propTypes = {\n  person: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default PersonItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function PagesBtnGroup({ pg, getPage }) {\n  const page = pg;\n  return (\n    <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n      {page > 1 ? (\n        <button\n          type=\"button\"\n          className=\"btn\n        btn-secondary\"\n          onClick={(e) => {\n            e.preventDefault();\n            getPage(page - 1);\n          }}\n        >\n          Prev\n        </button>\n      ) : null}\n      <button type=\"button\" className=\"btn btn-secondary\">\n        {`${page}`}\n      </button>\n      {page < 9 ? (\n        <button\n          type=\"button\"\n          className=\"btn btn-secondary\"\n          onClick={(e) => {\n            e.preventDefault();\n            getPage(page + 1);\n          }}\n        >\n          Next\n        </button>\n      ) : null}\n    </div>\n  );\n}\n\nPagesBtnGroup.propTypes = {\n  pg: PropTypes.number.isRequired,\n  getPage: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { useApolloClient } from '@apollo/client';\nimport { useHistory } from 'react-router-dom';\n\nimport {\n  isLoggedInVar,\n} from '../cache';\n\nconst LogoutButton = () => {\n  const history = useHistory();\n  const client = useApolloClient();\n  return (\n    <button\n      style={{ padding: 0 }}\n      data-testid=\"logout-button\"\n      type=\"button\"\n      className=\"btn btn-secondary p-2\"\n      onClick={() => {\n        client.cache.evict({ fieldName: 'me' });\n        client.resetStore();\n\n        // Remove user details from localStorage.\n        localStorage.removeItem('token');\n        localStorage.removeItem('page');\n        localStorage.removeItem('userId');\n        localStorage.removeItem('peopleData');\n        localStorage.removeItem('favourites');\n        isLoggedInVar(false);\n        history.push('/');\n        window.location.reload();\n      }}\n    >\n      Logout\n    </button>\n  );\n};\n\nexport default LogoutButton;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'react-uuid';\nimport { currentPage } from '../cache';\n\nimport PageInput from './page-input';\nimport PersonItem from './person-item';\nimport PagesBtnGroup from './pages-btn-group';\nimport Logout from './logout-button';\n\nconst getPage = () => parseInt(currentPage(), 10);\n\nexport default function PageComponent({ page, handlePageChange }) {\n  return (\n    <>\n      <div\n        style={{\n          padding: '5px',\n          textAlign: 'center',\n          borderRadius: '50%',\n        }}\n      >\n        <Logout />\n        <PageInput page={getPage()} getPage={handlePageChange} />\n        <PagesBtnGroup pg={getPage()} getPage={handlePageChange} />\n      </div>\n      <h4 className=\"display-4 my-3\">People</h4>\n      <>\n        {page.map((person) => (\n          <PersonItem key={`${person.name}-${uuid()}`} person={person} />\n        ))}\n      </>\n      <div style={{ textAlign: 'center' }} className=\"mb-3\">\n        <PagesBtnGroup pg={getPage()} getPage={handlePageChange} />\n      </div>\n    </>\n  );\n}\n\nPageComponent.propTypes = {\n  page: PropTypes.arrayOf(PropTypes.object).isRequired,\n  handlePageChange: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { currentPage } from '../cache';\nimport PageComponent from './page-component';\n\nconst getPage = () => parseInt(currentPage(), 10);\nexport default function Page({\n  getPeople, setPeople, refetch,\n}) {\n  const [page, setPage] = useState(getPeople());\n  const handleRefetch = async () => {\n    const { data: people } = await refetch({\n      page: getPage(),\n    });\n    if (people) {\n      setPeople(getPage(), people.people);\n      setPage(people.people);\n    }\n  };\n\n  const handlePageChange = async (pge) => {\n    localStorage.setItem('page', pge as string);\n    currentPage(`${pge}`);\n    if (getPeople().length === 0) {\n      handleRefetch();\n    } else { setPage(getPeople()); }\n  };\n  return <PageComponent page={page} handlePageChange={handlePageChange} />;\n}\n\nPage.propTypes = {\n  getPeople: PropTypes.func.isRequired,\n  setPeople: PropTypes.func.isRequired,\n  refetch: PropTypes.func.isRequired,\n};\n","import { setContext } from '@apollo/client/link/context';\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem('token');\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nexport default authLink;\n","import React from 'react';\nimport { gql } from '@apollo/client';\nimport { graphql } from '@apollo/client/react/hoc';\nimport { compose } from 'recompose';\nimport PropTypes from 'prop-types';\nimport { favouritePeopleVar, peopleVar } from '../cache';\nimport Page from './page';\nimport authLink from '../auth-link';\nimport usePeopleContent from '../hooks/usePeopleContent';\nimport useFavourites from '../hooks/useFavourites';\n\nconst PEOPLE_QUERY = gql`\n  query People($page: Int) {\n    people(page: $page) {\n      name\n      height\n      gender\n      homeworld\n    }\n  }\n`;\n\nconst MY_PEOPLE_QUERY = gql`\n  query MyPeople {\n    myPeople {\n      name\n    }\n  }\n`;\n\nconst People = ({\n  pageData,\n  myPeopleData,\n}) => {\n  if (pageData.error || myPeopleData.error) { return (<p>Error...Please try again</p>); }\n  if (\n    pageData.loading\n    || myPeopleData.loading) {\n    return <p>Loading...</p>;\n  }\n\n  const {\n    setFavourites,\n  } = useFavourites(favouritePeopleVar);\n\n  const { getPeople, setPeople } = usePeopleContent(peopleVar);\n\n  setPeople(1, pageData.people);\n\n  const favouritePeople: string[] = [];\n  const { myPeople } = myPeopleData;\n  myPeople.forEach((person) => favouritePeople.push(person.name));\n  setFavourites(favouritePeople);\n  return (\n    <Page\n      refetch={pageData.refetch}\n      setPeople={setPeople}\n      getPeople={getPeople}\n    />\n  );\n};\n\nexport default compose(\n  graphql(MY_PEOPLE_QUERY, {\n    name: 'myPeopleData',\n    options: {\n      context: authLink,\n    },\n  }),\n  graphql(PEOPLE_QUERY, {\n    name: 'pageData',\n    options: {\n      context: authLink,\n      variables: {\n        page: 1,\n      },\n    },\n  }),\n)(People);\n\nPeople.propTypes = {\n  pageData: PropTypes.objectOf(PropTypes.any).isRequired,\n  myPeopleData: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n","import { ReactiveVar } from '@apollo/client';\nimport { currentPage } from '../cache';\n\nexport default function usePeopleContent(peopleVar: ReactiveVar<Object>) {\n  const getPeople = () => {\n    const currPg = parseInt(currentPage(), 10);\n    const people = peopleVar();\n    if (people[currPg]) {\n      return people[currPg];\n    }\n    return [];\n  };\n  const setPeople = (pge, people) => {\n    const currPeople = peopleVar();\n    currPeople[pge] = people;\n    localStorage.setItem('peopleData', JSON.stringify(currPeople) as string);\n    peopleVar(currPeople);\n  };\n  return {\n    getPeople, setPeople,\n  };\n}\n","import React from 'react';\n\nexport default function BackBtn() {\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <button\n        className=\"btn btn-secondary\"\n        type=\"submit\"\n        onClick={() => {\n          window.location.href = '/';\n        }}\n      >\n        Back\n      </button>\n    </div>\n  );\n}\n","import React from 'react';\nimport heartred from './heart-red.png';\n\nexport default function Favourite() {\n  return (\n    <div className=\"d-flex m-md-0 m-1\">\n      Is a favourite:&nbsp;\n      <img\n        className=\"mt-n2\"\n        role=\"presentation\"\n        src={heartred}\n        alt=\"Like icon\"\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport uuid from 'react-uuid';\nimport QueryString from 'query-string';\nimport { gql, useQuery } from '@apollo/client';\nimport PropTypes from 'prop-types';\nimport { LinkItem, getId } from './link-item';\nimport authLink from '../auth-link';\nimport BackBtn from './back-btn';\nimport Favourite from './favourite';\n\nconst PERSON_QUERY = gql`\n  query PersonDetails($name: String!) {\n    personDetails(name: $name) {\n      name\n      height\n      gender\n      homeworld\n      eyeColor\n      hairColor\n      skinColor\n      films\n      species\n      vehicles\n      starships\n      url\n    }\n  }\n`;\n\nconst Person = ({ location: searchParams }) => {\n  let isInFavourites = false;\n  const parsedParams = QueryString.parse(searchParams.search);\n  const { search, favourite } = parsedParams;\n  if (favourite) {\n    isInFavourites = true;\n  }\n\n  const { loading, error, data } = useQuery(PERSON_QUERY, {\n    variables: { name: search },\n    context: authLink,\n  });\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>{`Error :( ${error}`}</p>;\n\n  const {\n    name,\n    height,\n    gender,\n    homeworld,\n    eyeColor,\n    hairColor,\n    skinColor,\n    films,\n    species,\n    vehicles,\n    starships,\n    url,\n  } = data.personDetails;\n\n  return (\n    <div className=\"pt-5 mb-3\">\n      <BackBtn />\n\n      <div className=\"d-md-flex justify-content-md-between\">\n        <h1 className=\"display-4 my-5\">\n          <span className=\"text-dark\">Name: </span>\n          {name}\n        </h1>\n        <div className=\"p-md-5\">{isInFavourites ? <Favourite /> : null}</div>\n      </div>\n      <h4 className=\"mb-3\">Person Details</h4>\n      <p>\n        Height:&nbsp;\n        {height}\n      </p>\n      <p>\n        Gender:&nbsp;\n        {gender}\n      </p>\n      <p>\n        Homeworld:&nbsp;Planet ID No&nbsp;\n        <a style={{ textDecoration: 'underline' }} href={homeworld} target=\"_blank\" rel=\"noopener noreferrer\">{getId(homeworld)}</a>\n      </p>\n      <ul className=\"list-group\">\n        <li className=\"list-group-item\">\n          Eye color:&nbsp;\n          {eyeColor}\n        </li>\n        <li className=\"list-group-item\">\n          Hair color:&nbsp;\n          {hairColor}\n        </li>\n        <li className=\"list-group-item\">\n          Skin color:&nbsp;\n          {skinColor}\n        </li>\n      </ul>\n      <h4 className=\"my-3\">More details</h4>\n      <ul className=\"list-group\">\n        <li className=\"list-group-item\">\n          Film IDs:&nbsp;\n          {films.map((film) => (\n            <LinkItem key={`film-${uuid()}`} link={film} />\n          ))}\n        </li>\n        <li className=\"list-group-item\">\n          Species IDs:&nbsp;\n          {species.map((thisSpecies) => (\n            <LinkItem key={`species-${uuid()}`} link={thisSpecies} />\n          ))}\n        </li>\n        <li className=\"list-group-item\">\n          Vehicles IDs:&nbsp;\n          {vehicles.map((vehicle) => (\n            <LinkItem key={`vehicle-${uuid()}`} link={vehicle} />\n          ))}\n        </li>\n\n        <li className=\"list-group-item\">\n          Starship IDs:&nbsp;\n          {starships.map((starship) => (\n            <LinkItem key={`vehicle-${uuid()}`} link={starship} />\n          ))}\n        </li>\n      </ul>\n      <h4 className=\"mb-3\">\n        Person Url:&nbsp;\n        <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n      </h4>\n      <hr />\n      <BackBtn />\n    </div>\n  );\n};\n\nPerson.propTypes = {\n  location: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default Person;\n","export default __webpack_public_path__ + \"static/media/star-wars-logo.057103d6.svg\";","import React from 'react';\nimport logo from './star-wars-logo.svg';\nimport '../css/header.css';\n\nfunction Header() {\n  return (\n    <div className=\"header\">\n      <img\n        src={logo}\n        alt=\"StarWars\"\n        style={{ width: '300px', margin: 'auto', display: 'block' }}\n      />\n    </div>\n  );\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport Me from './components/me';\nimport People from './components/people';\nimport Person from './components/person';\nimport Header from './components/header';\n\nexport class Routes extends Component {\n  render() {\n    return (\n      <div>\n        <Header />\n        <Route exact path=\"/me\" component={Me} />\n        <Route exact path=\"/\" component={People} />\n        <Route exact path=\"/people\" component={People} />\n        <Route exact path=\"/person\" component={Person} />\n      </div>\n    );\n  }\n}\n\nexport default Routes;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst RegisterButton = () => (\n  <Link to=\"/register\" className=\"btn btn-secondary\">Register</Link>\n);\n\nexport default RegisterButton;\n","import React, { Fragment } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { gql, useMutation } from '@apollo/client';\nimport RegisterButton from './register-button';\nimport { isLoggedInVar } from '../cache';\n\nexport const LOGIN_USER = gql`\n  mutation Login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      id\n      token\n    }\n  }\n`;\n\nconst LoginForm = () => {\n  const history = useHistory();\n  const [mutation, { loading: inFlight, error: err }] = useMutation(\n    LOGIN_USER,\n    {\n      onCompleted: ({ login }) => {\n        if (login) {\n          localStorage.setItem('token', login.token as string);\n          localStorage.setItem('userId', login.id as string);\n          isLoggedInVar(true);\n          history.push('/');\n          window.location.reload();\n        } else {\n          alert('Login failed. Please register first before trying to login.');\n        }\n      },\n    },\n  );\n\n  if (inFlight) return <h4>Loading...</h4>;\n  if (err) return <p>An error occurred</p>;\n\n  return (\n    <div className=\"row m-md-0 m-5 d-flex justify-content-center form mt-5 pb-5\">\n      <div className=\"col-md-3\">\n        <h4 className=\"ml-n3\">Login</h4>\n\n        <>\n          <form id=\"login\" className=\"d-flex flex-column\">\n            <label htmlFor=\"email\" className=\"row d-flex flex-column\">\n              Email:\n              <input\n                className=\"col-md-10\"\n                type=\"email\"\n                name=\"email\"\n                id=\"email\"\n              />\n            </label>\n            <label htmlFor=\"password\" className=\"row mb-3 mt-3\">\n              Password:\n              <input\n                className=\"col-md-10\"\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n              />\n            </label>\n            <input\n              type=\"submit\"\n              value=\"Submit\"\n              className=\"form-elements btn btn-secondary\"\n              onClick={(e) => {\n                e.preventDefault();\n                const email = document.getElementById(\n                  'email',\n                ) as HTMLInputElement;\n                const password = document.getElementById(\n                  'password',\n                ) as HTMLInputElement;\n                mutation({\n                  variables: {\n                    email: email.value,\n                    password: password.value,\n                  },\n                });\n              }}\n            />\n          </form>\n        </>\n        <RegisterButton />\n      </div>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst LoginButton = () => (\n  <Link to=\"/login\" className=\"btn btn-secondary\">Login</Link>\n);\n\nexport default LoginButton;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { gql, useMutation } from '@apollo/client';\nimport { isLoggedInVar } from '../cache';\nimport LoginButton from './login-button';\n\nexport const REGISTER_USER = gql`\n  mutation Signup($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      id\n      token\n    }\n  }\n`;\n\nexport default function RegisterForm() {\n  const history = useHistory();\n  const [registerUser, { loading, error }] = useMutation(REGISTER_USER, {\n    onCompleted: ({ signup }) => {\n      if (signup) {\n        localStorage.setItem('token', signup.token as string);\n        localStorage.setItem('userId', signup.id as string);\n        isLoggedInVar(true);\n        history.push('/');\n        window.location.reload();\n      }\n    },\n  });\n  if (loading) return <h4>Loading...</h4>;\n  if (error) return <p>An error occurred</p>;\n\n  return (\n    <div className=\"row m-md-0 m-5 d-flex justify-content-center form mt-5 pb-5\">\n      <div className=\"col-md-3\">\n        <h4 className=\"ml-n3\">Register</h4>\n\n        <>\n          <form id=\"login\" className=\"d-flex flex-column\">\n            <label htmlFor=\"email\" className=\"row d-flex flex-column\">\n              <p>Email:</p>\n              <input\n                className=\"col-md-10\"\n                type=\"email\"\n                name=\"email\"\n                id=\"email\"\n              />\n            </label>\n            <label\n              htmlFor=\"password\"\n              className=\"row d-flex flex-column mb-3 mt-3\"\n            >\n              <p>Password:</p>\n              <input\n                className=\"col-md-10\"\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n              />\n            </label>\n            <label\n              htmlFor=\"password\"\n              className=\"row d-flex flex-column mb-3 mt-3\"\n            >\n              <p>Confirm password:</p>\n              <input\n                className=\"col-md-10\"\n                type=\"password\"\n                name=\"confirm-password\"\n                id=\"confirm-password\"\n              />\n            </label>\n            <label htmlFor=\"name\" className=\"row d-flex flex-column mb-3 mt-3\">\n              <p>Name:</p>\n              <input className=\"col-md-10\" type=\"text\" name=\"name\" id=\"name\" />\n            </label>\n            <input\n              type=\"submit\"\n              value=\"Submit\"\n              className=\"form-elements btn btn-secondary\"\n              onClick={(e) => {\n                e.preventDefault();\n                const email = document.getElementById(\n                  'email',\n                ) as HTMLInputElement;\n                const password = document.getElementById(\n                  'password',\n                ) as HTMLInputElement;\n                const name = document.getElementById(\n                  'name',\n                ) as HTMLInputElement;\n                registerUser({\n                  variables: {\n                    email: email.value,\n                    password: password.value,\n                    name: name.value,\n                  },\n                });\n              }}\n            />\n          </form>\n        </>\n        <LoginButton />\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport LoginForm from './components/login-form';\nimport RegisterForm from './components/register-form';\nimport Header from './components/header';\n\nexport class Routes extends Component {\n  render() {\n    return (\n      <div>\n        <Header />\n        <Route exact path=\"/register\" component={RegisterForm} />\n        <Route exact path=\"/login\" component={LoginForm} />\n      </div>\n    );\n  }\n}\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, useHistory } from 'react-router-dom';\nimport './css/index.css';\nimport {\n  ApolloClient,\n  NormalizedCacheObject,\n  ApolloProvider,\n  gql,\n  useQuery,\n} from '@apollo/client';\nimport Routes from './routes';\nimport PublicRoutes from './public-routes';\nimport { cache } from './cache';\n\nconst typeDefs = gql`\n  extend type Query {\n    isLoggedIn: Boolean!\n  }\n`;\n\n// Set up our apollo-client to point at the server we created\n// this can be local or a remote endpoint\nconst client: ApolloClient<NormalizedCacheObject> = new ApolloClient({\n  cache,\n  uri: '/graphql',\n  headers: {\n    authorization: localStorage.getItem('token') || '',\n    'client-name': 'Star Wars [web]',\n    'client-version': '1.0.0',\n  },\n  typeDefs,\n  resolvers: {},\n});\n\nconst IS_LOGGED_IN = gql`\n  query IsUserLoggedIn {\n    isLoggedIn @client\n  }\n`;\n\nfunction IsLoggedIn() {\n  const { data } = useQuery(IS_LOGGED_IN);\n  const history = useHistory();\n  let content;\n  if (data.isLoggedIn) {\n    history.push('/');\n    content = <Routes />;\n  } else {\n    history.push('/login');\n    content = <PublicRoutes />;\n  }\n  return content;\n}\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <BrowserRouter>\n      <React.StrictMode>\n        <IsLoggedIn />\n      </React.StrictMode>\n    </BrowserRouter>\n  </ApolloProvider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}